<title>Class & constructor</title>

<script>
    // Class & constructor
    
    // class User {
    //     constructor(name) {
    //         console.log(`User ${name} was born!`);

    //         this.name = name;
    //         this.experience = 0;
    //     }

    //     greet() {
    //         console.log(`Hello from ${this.name}`);
    //     }

    //     study() {
    //         this.experience++;
    //     }

    //     abc = () => console.log("abc");
    // }

    // // const adam = new User("Adam"); // new keyword
    // // const beth = new User("Beth");

    // // adam.greet();
    // // beth.greet();

    // // adam.study();
    // // adam.study();
    // // adam.study();

    // // beth.study();

    // // console.log("Adam experience: ", adam.experience);
    // // console.log("Beth experience: ", beth.experience);



    // const users = [
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    //     new User("Adam"),
    // ];

    // console.log(users);



    // const names = ["Adam", "Beth", "Cecil", "Dorthy"];
    // const groupOfUsers = names.map(name => new User(name));

    // console.log(groupOfUsers);

</script>

<script>
    // Abstraction and implementation hiding
    
    // class Scientist {
    //     constructor(name) {
    //         this.name = name;
    //     }

    //     power(a, b) {
    //         return Math.pow(a, b);
    //     }
    // }

    // class Mathematician {
    //     constructor(name) {
    //         this.name = name;
    //     }

    //     power(x, y) {
    //         if(typeof x !== "number" || typeof y !== "number") {
    //             throw new Error("Invalid argument type")
    //         }

    //         if (y === 0) return 1;
    //         if (y%2 === 0) return this.power(x, parseInt(y/2))*this.power(x, parseInt(y/2));
    //         return x*this.power(x, parseInt(y/2))*this.power(x, parseInt(y/2));
    //     }
    // }

    // class Physicist {
    //     constructor(name) {
    //         this.name = name;
    //     }

    //     power(a, b) {
    //         return a ** b;
    //     }
    // }

    // const scientistA = new Scientist("A");
    // const scientistB = new Mathematician("B");
    // const scientistC = new Physicist("C");

    // // // `instanceof` operator
    // // console.log(
    // //     scientistA instanceof Scientist,
    // //     scientistA instanceof Mathematician,
    // //     scientistA instanceof Physicist,
    // // );
    // // console.log(scientistB instanceof Mathematician);

    // const a = scientistA.power(2, 3);
    // const b = scientistB.power(2, 3);
    // const c = scientistC.power(2, 3);

    // console.log({ a, b, c });


    // const scientists = [scientistA, scientistB, scientistC];
    // const results = scientists.map(scientist => scientist.power(2, 4));
    
    // console.log(results);

</script>

<script>
    // Inheritance

    class Scientist {
        constructor(myName) {
            this.name = myName;
        }

        power(a, b) {
            return Math.pow(a, b);
        }
    }

    class Mathematician extends Scientist {}

    class Physicist extends Mathematician {
        constructor(title, username, yearsOfExperience = 0) {
            const fullName = `Physicist ${title}. ${username}`;
            super(fullName);

            this.yearsOfExperience = yearsOfExperience;
        }

        brag() {
            console.log(`I am so PRO! I have ${this.yearsOfExperience} years of experience!`);
        }
    }

    // const math = new Mathematician("Abc");
    // console.log("Math: ", math.power(2, 5));


    const phys = new Physicist("Prof", "Xyz", 42);
    phys.brag();
    console.log(
        "Phys: ",
        phys.power(2, 5)
    );


    const scientists = [new Scientist("A"), new Mathematician("B"), new Physicist("C")];

    const results = scientists.map(scientist => scientist.power(2, 5));
    console.log(results);

    scientists.forEach(scientist => {
        const isPhysicist = scientist instanceof Physicist;
        if (isPhysicist) {
            scientist.brag();
        }
    });

</script>

<script>
    // Encapsulation

    // class Student {
    //     static studentsList = [];

    //     score = 0; // public field (default)
    //     #secret = "super_secret"; // private field
    //     #fullname;

    //     constructor(name) {
    //         console.log(`Student ${name} was created!`);
    //         this.#fullname = name;
    //         // this.#name = name;
    //         // this.score = 0;

    //         console.log("Registering to students list.");
    //         Student.studentsList.push(this);
    //     }
        
    //     // getters & setters
    //     get name() {
    //         return `Student: ${this.#fullname}`;
    //         // return this.#fullname;
    //     }

    //     set name(newName) {
    //         console.log("Cannot change the name of the Student!");
    //         // this.#fullname = newName;
    //     }

    //     #secretMethod() {
    //         console.log(`It's a secret! ${this.#secret}`);
    //     }

    //     revealSecret() {
    //         this.#secretMethod();
    //     }

    //     performCalculation(x, y) {
    //         // perform some preperation
    //         return this.#calculateSomething(x, y);
    //     }

    //     #calculateSomething(a, b) {
    //         return a + b; // complex logic
    //     }
    // }

    // const adam = new Student("Adam");
    // console.log(adam.name);
    
    // // console.log(adam.secret);
    // // console.log(adam.#secret);


    // adam.name = "Not Adam";
    // console.log(adam.name);

    
    // // adam.secretMethod();
    // // adam.#secretMethod();


    // // adam.revealSecret();

    // console.log(adam.performCalculation(2, 3));

    // console.log(Student.studentsList);
    // new Student("Beth");
    // console.log(Student.studentsList);

</script>

<script>
    // Polymorphism

    // console.log(42); // accepts numbers

    // console.log("42"); // accepts strings


    
    // class A {
    //     constructor() {
    //         this.name = "A";
    //     }

    //     sayMyName() {
    //         console.log(`My name is ${this.name}`);
    //     }
    // }

    // class B extends A {
    //     constructor() {
    //         super();
    //         this.name = "B";
    //     }

    //     // override
    //     sayMyName() {
    //         console.log(`Hello there, I'm ${this.name}`);
    //     }
    // }

    // const a = new A();
    // a.sayMyName();
    
    // const b = new B();
    // b.sayMyName();


</script>